// src/components/ContactForm.astro
---
// You'll need this if using client-side JavaScript
---

<form id="contact-form" class="max-w-md mx-auto space-y-4">
  <div>
    <label for="name" class="block text-sm font-medium">Name</label>
    <input 
      type="text" 
      id="name" 
      name="entry.123456789" 
      required 
      class="w-full rounded-md border-gray-300 shadow-sm"
    />
  </div>
  
  <div>
    <label for="email" class="block text-sm font-medium">Email</label>
    <input 
      type="email" 
      id="email" 
      name="entry.987654321" 
      required 
      class="w-full rounded-md border-gray-300 shadow-sm"
    />
  </div>
  
  <div>
    <label for="message" class="block text-sm font-medium">Message</label>
    <textarea 
      id="message" 
      name="entry.456789123" 
      required 
      class="w-full rounded-md border-gray-300 shadow-sm"
    ></textarea>
  </div>
  
  <button 
    type="submit" 
    class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600"
  >
    Submit
  </button>
</form>

<script>
  const form = document.getElementById('contact-form');
  const GOOGLE_FORM_URL = 'https://docs.google.com/forms/d/e/YOUR_FORM_ID/formResponse';
  
  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    
    const formData = new FormData(form);
    
    try {
      // Using fetch with no-cors mode since Google Forms doesn't support CORS
      const response = await fetch(GOOGLE_FORM_URL, {
        method: 'POST',
        mode: 'no-cors',
        body: formData
      });
      
      // Clear the form
      form.reset();
      alert('Form submitted successfully!');
      
    } catch (error) {
      console.error('Error submitting form:', error);
      alert('There was an error submitting the form. Please try again.');
    }
  });
</script>